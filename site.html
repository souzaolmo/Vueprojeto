<!DOCTYPE html>
<html>
<head>
  <title>MinhaTask</title>
  <style>
    /* Estilo CSS aqui */
    body {
      background-color: #2c3e50;
      color: #fff;
      font-family: Arial, sans-serif;
      text-align: center;
    }

    #app {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      height: 100vh;
    }

    #clock {
      font-size: 72px;
      margin-bottom: 20px;
    }

    .task-container {
      margin-top: 20px;
    }

    .task {
      background-color: #3498db;
      color: #fff;
      padding: 10px;
      margin-bottom: 10px;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: space-between;
      width: auto;
      max-width: 400px;
      text-align: center;
      border-radius: 5px;
    }

    .task.accepted-task {
      background-color: #f39c12;
    }

    .task.completed-task {
      background-color: #27ae60;
    }

    .task.selected-task {
      font-weight: bold;
    }

    .task-name {
      flex: 1;
    }

    .task-buttons {
      display: flex;
      align-items: center;
    }

    .button {
      background-color: #e74c3c;
      color: #fff;
      border: none;
      padding: 8px 15px;
      margin-left: 10px;
      cursor: pointer;
      border-radius: 5px;
    }

    .clear-button {
      background-color: #e74c3c;
      color: #fff;
      border: none;
      padding: 10px 20px;
      margin-top: 20px;
      cursor: pointer;
      position: fixed;
      right: 20px;
      bottom: 20px;
      border-radius: 5px;
    }

    .statistics {
      margin-top: 50px;
    }

    .stats-heading {
      font-size: 24px;
      margin-bottom: 10px;
    }

    .stats-item {
      margin-bottom: 20px;
    }

    .stats-item p {
      margin-bottom: 5px;
    }

    .stats-item ul {
      list-style-type: none;
      padding: 0;
    }

    .stats-item li {
      margin-bottom: 5px;
    }

    .total-time {
      font-size: 18px;
      margin-top: 10px;
    }
  </style>
  <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
</head>
<body>
  <div id="app">
    <div id="clock">{{ currentTime }}</div>
    <div>
      <input v-model="taskName" type="text" placeholder="Digite a tarefa" maxlength="50">
      <button class="button" v-on:click="addTask">Adicionar Tarefa</button>
    </div>
    <div class="task-container" v-for="task in tasks" :key="task.id">
      <div class="task"
           :class="{
             'accepted-task': task.accepted,
             'completed-task': task.completed,
             'selected-task': task === currentTask
           }"
           v-on:click="selectTask(task)">
        <span class="task-name">{{ task.name }}</span>
        <div class="task-buttons">
          <button class="button" v-show="!task.completed" v-on:click="completeTask(task)">Finalizar Tarefa</button>
          <button class="button" v-on:click="removeTask(task)">Remover Tarefa</button>
        </div>
      </div>
    </div>
    <button class="clear-button" v-on:click="clearCompletedTasks">Limpar Tarefas Concluídas</button>
    <div class="statistics" v-show="dailyStats.length > 0">
      <h2 class="stats-heading">Estatísticas do Dia</h2>
      <div v-for="stats in dailyStats" :key="stats.date" class="stats-item">
        <p>Data: {{ stats.date }}</p>
        <p>Tarefas Concluídas: {{ stats.completedTasks }}</p>
        <ul>
          <li v-for="taskTime in stats.taskTimes">{{ taskTime.task }} - Tempo: {{ formatTime(taskTime.time) }}</li>
        </ul>
        <div class="total-time" v-show="completedTasks.length > 0">
          Tempo Total de Tarefas Concluídas: {{ formatTime(totalTime) }}
        </div>
      </div>
    </div>
  </div>

  <script>
    new Vue({
      el: '#app',
      data: {
        taskName: '',
        tasks: [],
        currentTask: null,
        elapsedTime: 0,
        startTime: null,
        completedTasks: [],
        dailyStats: []
      },
      computed: {
        currentTime: function() {
          var now = new Date();
          var hours = now.getHours().toString().padStart(2, '0');
          var minutes = now.getMinutes().toString().padStart(2, '0');
          var seconds = now.getSeconds().toString().padStart(2, '0');
          return `${hours}:${minutes}:${seconds}`;
        },
        totalTime: function() {
          return this.completedTasks.reduce((total, task) => total + task.elapsedTime, 0);
        }
      },
      methods: {
        addTask: function() {
          if (this.taskName && !this.tasks.some(task => task.name === this.taskName)) {
            var newTask = {
              id: Date.now(),
              name: this.taskName,
              accepted: false,
              completed: false,
              elapsedTime: 0
            };
            this.tasks.push(newTask);
            this.taskName = '';
          }
        },
        selectTask: function(task) {
          if (!task.accepted) {
            this.tasks.forEach(t => {
              if (t.accepted) {
                t.accepted = false;
              }
            });
            task.accepted = true;
            this.currentTask = task;
            this.startTime = Date.now();
          } else {
            this.currentTask = task;
            this.startTime = Date.now() - task.elapsedTime;
          }
        },
        completeTask: function(task) {
          if (task) {
            task.completed = true;
            task.elapsedTime = Date.now() - this.startTime;
            this.completedTasks.push(task);
            this.updateDailyStats();
            if (task === this.currentTask) {
              this.currentTask = null;
              this.startTime = null;
              this.elapsedTime = 0;
            }
          }
        },
        removeTask: function(task) {
          this.tasks = this.tasks.filter(t => t !== task);
        },
        clearCompletedTasks: function() {
          this.completedTasks = [];
        },
        updateDailyStats: function() {
          var today = new Date().toLocaleDateString();
          var existingStats = this.dailyStats.find(stats => stats.date === today);
          if (existingStats) {
            existingStats.completedTasks = this.completedTasks.length;
            existingStats.taskTimes = this.completedTasks.map(task => ({
              task: task.name,
              time: task.elapsedTime
            }));
          } else {
            var newStats = {
              date: today,
              completedTasks: this.completedTasks.length,
              taskTimes: this.completedTasks.map(task => ({
                task: task.name,
                time: task.elapsedTime
              }))
            };
            this.dailyStats.push(newStats);
          }
        },
        formatTime: function(time) {
          var milliseconds = Math.floor(time % 1000);
          var seconds = Math.floor((time / 1000) % 60);
          var minutes = Math.floor((time / (1000 * 60)) % 60);
          var hours = Math.floor((time / (1000 * 60 * 60)) % 24);
          return `${hours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}.${milliseconds.toString().padStart(3, '0')}`;
        }
      }
    });
  </script>
</body>
</html>
